{"ast":null,"code":"var _jsxFileName = \"/home/aayushi/Documents/Aayushi/ReactJs/movie_booking_system/src/Pages/HomePage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { HomeCard } from '../Components/HomeCard';\nimport './HomePage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const HomePage = ({\n  movies\n}) => {\n  _s();\n  const scrollRef = useRef(null);\n  const intervalRef = useRef(null);\n  const scrollIndex = useRef(1); // Start from real first movie (index 1)\n\n  // Clone first and last movie to enable seamless loop\n  const moviesWithClones = movies.length > 0 ? [movies[movies.length - 1], ...movies, movies[0]] : [];\n  const scrollToIndex = (index, behavior = 'smooth') => {\n    const container = scrollRef.current;\n    if (!container) return;\n    container.scrollTo({\n      left: container.offsetWidth * index,\n      behavior\n    });\n  };\n  useEffect(() => {\n    if (movies.length === 0) return;\n    const container = scrollRef.current;\n\n    // Initially scroll to the first real movie (index 1)\n    scrollToIndex(1, 'auto');\n    intervalRef.current = setInterval(() => {\n      scrollIndex.current += 1;\n      scrollToIndex(scrollIndex.current);\n\n      // Reset when hitting the clone (last slide)\n      if (scrollIndex.current === moviesWithClones.length - 1) {\n        setTimeout(() => {\n          scrollToIndex(1, 'auto');\n          scrollIndex.current = 1;\n        }, 600); // match scroll-behavior smooth timing\n      }\n    }, 4000);\n    return () => clearInterval(intervalRef.current);\n  }, [movies]);\n  if (movies.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No Movies yet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fullscreen-scroll\",\n    ref: scrollRef,\n    children: moviesWithClones.map((movie, index) => /*#__PURE__*/_jsxDEV(HomeCard, {\n      movie: movie\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(HomePage, \"JBZO6FzhZ8re/w0v2pNWKBf0eMk=\");\n_c = HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useEffect","useRef","HomeCard","jsxDEV","_jsxDEV","HomePage","movies","_s","scrollRef","intervalRef","scrollIndex","moviesWithClones","length","scrollToIndex","index","behavior","container","current","scrollTo","left","offsetWidth","setInterval","setTimeout","clearInterval","children","fileName","_jsxFileName","lineNumber","columnNumber","className","ref","map","movie","_c","$RefreshReg$"],"sources":["/home/aayushi/Documents/Aayushi/ReactJs/movie_booking_system/src/Pages/HomePage.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { HomeCard } from '../Components/HomeCard';\nimport './HomePage.css';\n\nexport const HomePage = ({ movies }) => {\n  const scrollRef = useRef(null);\n  const intervalRef = useRef(null);\n  const scrollIndex = useRef(1); // Start from real first movie (index 1)\n\n  // Clone first and last movie to enable seamless loop\n  const moviesWithClones = movies.length > 0\n    ? [movies[movies.length - 1], ...movies, movies[0]]\n    : [];\n\n  const scrollToIndex = (index, behavior = 'smooth') => {\n    const container = scrollRef.current;\n    if (!container) return;\n    container.scrollTo({\n      left: container.offsetWidth * index,\n      behavior,\n    });\n  };\n\n  useEffect(() => {\n    if (movies.length === 0) return;\n\n    const container = scrollRef.current;\n\n    // Initially scroll to the first real movie (index 1)\n    scrollToIndex(1, 'auto');\n\n    intervalRef.current = setInterval(() => {\n      scrollIndex.current += 1;\n      scrollToIndex(scrollIndex.current);\n\n      // Reset when hitting the clone (last slide)\n      if (scrollIndex.current === moviesWithClones.length - 1) {\n        setTimeout(() => {\n          scrollToIndex(1, 'auto');\n          scrollIndex.current = 1;\n        }, 600); // match scroll-behavior smooth timing\n      }\n    }, 4000);\n\n    return () => clearInterval(intervalRef.current);\n  }, [movies]);\n\n  if (movies.length === 0) {\n    return <p>No Movies yet</p>;\n  }\n\n  return (\n    <div className=\"fullscreen-scroll\" ref={scrollRef}>\n      {moviesWithClones.map((movie, index) => (\n        <HomeCard movie={movie} key={index} />\n      ))}\n    </div>\n  );\n};\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,SAASC,QAAQ,QAAQ,wBAAwB;AACjD,OAAO,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExB,OAAO,MAAMC,QAAQ,GAAGA,CAAC;EAAEC;AAAO,CAAC,KAAK;EAAAC,EAAA;EACtC,MAAMC,SAAS,GAAGP,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMQ,WAAW,GAAGR,MAAM,CAAC,IAAI,CAAC;EAChC,MAAMS,WAAW,GAAGT,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;;EAE/B;EACA,MAAMU,gBAAgB,GAAGL,MAAM,CAACM,MAAM,GAAG,CAAC,GACtC,CAACN,MAAM,CAACA,MAAM,CAACM,MAAM,GAAG,CAAC,CAAC,EAAE,GAAGN,MAAM,EAAEA,MAAM,CAAC,CAAC,CAAC,CAAC,GACjD,EAAE;EAEN,MAAMO,aAAa,GAAGA,CAACC,KAAK,EAAEC,QAAQ,GAAG,QAAQ,KAAK;IACpD,MAAMC,SAAS,GAAGR,SAAS,CAACS,OAAO;IACnC,IAAI,CAACD,SAAS,EAAE;IAChBA,SAAS,CAACE,QAAQ,CAAC;MACjBC,IAAI,EAAEH,SAAS,CAACI,WAAW,GAAGN,KAAK;MACnCC;IACF,CAAC,CAAC;EACJ,CAAC;EAEDf,SAAS,CAAC,MAAM;IACd,IAAIM,MAAM,CAACM,MAAM,KAAK,CAAC,EAAE;IAEzB,MAAMI,SAAS,GAAGR,SAAS,CAACS,OAAO;;IAEnC;IACAJ,aAAa,CAAC,CAAC,EAAE,MAAM,CAAC;IAExBJ,WAAW,CAACQ,OAAO,GAAGI,WAAW,CAAC,MAAM;MACtCX,WAAW,CAACO,OAAO,IAAI,CAAC;MACxBJ,aAAa,CAACH,WAAW,CAACO,OAAO,CAAC;;MAElC;MACA,IAAIP,WAAW,CAACO,OAAO,KAAKN,gBAAgB,CAACC,MAAM,GAAG,CAAC,EAAE;QACvDU,UAAU,CAAC,MAAM;UACfT,aAAa,CAAC,CAAC,EAAE,MAAM,CAAC;UACxBH,WAAW,CAACO,OAAO,GAAG,CAAC;QACzB,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;MACX;IACF,CAAC,EAAE,IAAI,CAAC;IAER,OAAO,MAAMM,aAAa,CAACd,WAAW,CAACQ,OAAO,CAAC;EACjD,CAAC,EAAE,CAACX,MAAM,CAAC,CAAC;EAEZ,IAAIA,MAAM,CAACM,MAAM,KAAK,CAAC,EAAE;IACvB,oBAAOR,OAAA;MAAAoB,QAAA,EAAG;IAAa;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;EAC7B;EAEA,oBACExB,OAAA;IAAKyB,SAAS,EAAC,mBAAmB;IAACC,GAAG,EAAEtB,SAAU;IAAAgB,QAAA,EAC/Cb,gBAAgB,CAACoB,GAAG,CAAC,CAACC,KAAK,EAAElB,KAAK,kBACjCV,OAAA,CAACF,QAAQ;MAAC8B,KAAK,EAAEA;IAAM,GAAMlB,KAAK;MAAAW,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CACtC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;AAACrB,EAAA,CAtDWF,QAAQ;AAAA4B,EAAA,GAAR5B,QAAQ;AAAA,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}